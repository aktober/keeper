{% extends "account/account_base.html" %}

{% load i18n %}
{% load account socialaccount %}
{% load static %}
{% load bootstrap %}

{% block head_title %} Login {% endblock %}

{% block scripts %}
{% endblock %}

{% block content %}

    <div class="container">

        {% get_providers as socialaccount_providers %}

        <h2 class="form-signin-heading" align="center">Please login</h2>
        {% if socialaccount_providers %}
            <div class="socialaccount_ballot">

                <form class="form-signin" method="POST" action="{% url 'account_login' %}">
                    {% csrf_token %}
{#                    <label for="id_login" class="sr-only">Username</label>#}
{#                    <input type="text" id="id_login" class="form-control" placeholder="Username" required#}
{#                           autofocus>#}
{#                    <label for="id_password" class="sr-only">Password</label>#}
{#                    <input type="password" id="id_password" class="form-control" placeholder="Password" required>#}
{#                    <div class="checkbox">#}
{#                        <label>#}
{#                            <input id="id_remember" type="checkbox" value="remember-me"> Remember me#}
{#                        </label>#}
{#                    </div>#}

                    {{ form|bootstrap }}
                    {% if redirect_field_value %}
                        <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}"/>
                    {% endif %}
                    <a class="button secondaryAction"
                       href="{% url 'account_reset_password' %}">{% trans "Forgot Password?" %}</a>
                    <button class="btn btn-lg btn-primary btn-block" type="submit">Login</button>

                </form>

                <div class="form-signin">
                    {% for provider in socialaccount_providers %}
                        <button class="btn btn-lg btn-warning btn-block"
                                onclick="location.href='{% provider_login_url provider.id process=" login " %}'">
                            Log in with {{ provider.name }}
                        </button>
                    {% endfor %}

                    <div class="login-or" align="center">{% trans 'or' %}</div>
                    <button class="btn btn-lg btn-success btn-block"
                            onclick="location.href='/accounts/signup/'">
                        Register
                    </button>
                </div>

            </div>

            {% include "socialaccount/snippets/login_extra.html" %}

        {% else %}
            <p>{% blocktrans %}If you have not created an account yet, then please
                <a href="{{ signup_url }}">sign up</a> first.{% endblocktrans %}</p>
        {% endif %}

    </div> <!-- /container -->

{% endblock %}
